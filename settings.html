<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
</head>

<body>
    <section id="settings" class="content-section">
        <div class="settings-container">
            <div class="settings-card">
                <div class="settings-header">
                    <h2><i class="fas fa-cog"></i> 播放器设置</h2>
                    <p class="settings-description">自定义您的音乐播放体验</p>
                </div>

                <div class="settings-group">
                    <h3><i class="fas fa-palette"></i> 主题与外观</h3>

                    <div class="settings-option">
                        <div class="option-label">
                            <h4>动态背景效果</h4>
                            <p>播放音乐时显示专辑封面模糊背景</p>
                        </div>
                        <label class="switch">
                        <input type="checkbox" id="dynamicBgToggle" checked onchange="toggleDynamicBackground()">
                        <span class="slider"></span>
                    </label>
                    </div>

                    <div class="settings-option">
                        <div class="option-label">
                            <h4>音乐可视化</h4>
                            <p>播放时显示音频波形可视化效果</p>
                        </div>
                        <label class="switch">
                        <input type="checkbox" id="visualizationToggle" onchange="toggleVisualization()">
                        <span class="slider"></span>
                    </label>
                    </div>

                    <div class="settings-option">
                        <div class="option-label">
                            <h4>渐变过渡效果</h4>
                            <p>页面切换和元素变化时使用平滑动画</p>
                        </div>
                        <label class="switch">
                        <input type="checkbox" id="animationsToggle" checked onchange="toggleAnimations()">
                        <span class="slider"></span>
                    </label>
                    </div>
                </div>

                <div class="settings-group">
                    <h3><i class="fas fa-volume-up"></i> 音效与播放</h3>

                    <div class="settings-option">
                        <div class="option-label">
                            <h4>自动播放下一首</h4>
                            <p>当前歌曲结束后自动播放下一首</p>
                        </div>
                        <label class="switch">
                        <input type="checkbox" id="autoplayToggle" checked onchange="toggleAutoplay()">
                        <span class="slider"></span>
                    </label>
                    </div>

                    <div class="settings-option">
                        <div class="option-label">
                            <h4>高音质播放</h4>
                            <p>优先选择高品质音源（需要网络良好）</p>
                        </div>
                        <label class="switch">
                        <input type="checkbox" id="hqAudioToggle" onchange="toggleHQAudio()">
                        <span class="slider"></span>
                    </label>
                    </div>

                    <div class="settings-option">
                        <div class="option-label">
                            <h4>歌词同步显示</h4>
                            <p>在播放器下方实时显示当前歌词</p>
                        </div>
                        <label class="switch">
                        <input type="checkbox" id="lyricsSyncToggle" checked onchange="toggleLyricsSync()">
                        <span class="slider"></span>
                    </label>
                    </div>
                </div>

                <div class="settings-group">
                    <h3><i class="fas fa-paint-brush"></i> 背景效果主题</h3>

                    <div class="effect-options">
                        <div class="effect-option active" onclick="selectEffect('blur')">
                            <div class="effect-icon">
                                <i class="fas fa-layer-group"></i>
                            </div>
                            <div class="effect-name">模糊渐变</div>
                            <div class="effect-desc">专辑封面模糊背景</div>
                        </div>

                        <div class="effect-option" onclick="selectEffect('particles')">
                            <div class="effect-icon">
                                <i class="fas fa-atom"></i>
                            </div>
                            <div class="effect-name">粒子效果</div>
                            <div class="effect-desc">动态粒子跟随音乐</div>
                        </div>

                        <div class="effect-option" onclick="selectEffect('waves')">
                            <div class="effect-icon">
                                <i class="fas fa-water"></i>
                            </div>
                            <div class="effect-name">波形效果</div>
                            <div class="effect-desc">音频波形可视化</div>
                        </div>

                        <div class="effect-option" onclick="selectEffect('none')">
                            <div class="effect-icon">
                                <i class="fas fa-eye-slash"></i>
                            </div>
                            <div class="effect-name">无效果</div>
                            <div class="effect-desc">简洁播放界面</div>
                        </div>
                    </div>
                </div>

                <div class="settings-group">
                    <h3><i class="fas fa-sliders-h"></i> 播放器高级设置</h3>

                    <div class="settings-option">
                        <div class="option-label">
                            <h4>淡入淡出效果</h4>
                            <p>歌曲切换时使用淡入淡出过渡</p>
                        </div>
                        <label class="switch">
                        <input type="checkbox" id="fadeToggle" checked onchange="toggleFadeEffect()">
                        <span class="slider"></span>
                    </label>
                    </div>

                    <div class="settings-option">
                        <div class="option-label">
                            <h4>音量记忆</h4>
                            <p>记住上次设置的音量大小</p>
                        </div>
                        <label class="switch">
                        <input type="checkbox" id="volumeMemoryToggle" checked onchange="toggleVolumeMemory()">
                        <span class="slider"></span>
                    </label>
                    </div>

                    <div class="settings-option">
                        <div class="option-label">
                            <h4>播放列表循环</h4>
                            <p>播放到最后一首后回到第一首</p>
                        </div>
                        <label class="switch">
                        <input type="checkbox" id="loopPlaylistToggle" onchange="toggleLoopPlaylist()">
                        <span class="slider"></span>
                    </label>
                    </div>
                </div>

                <div class="settings-group">
                    <h3><i class="fas fa-trash-alt"></i> 数据管理</h3>

                    <div class="data-management">
                        <button onclick="clearSearchHistory()" class="data-btn">
                        <i class="fas fa-history"></i> 清除搜索历史
                    </button>
                        <button onclick="clearPlaylist()" class="data-btn">
                        <i class="fas fa-list"></i> 清空播放列表
                    </button>
                        <button onclick="clearAllData()" class="data-btn danger">
                        <i class="fas fa-trash"></i> 清除所有数据
                    </button>
                    </div>
                </div>

                <div class="settings-actions">
                    <div class="settings-info">
                        <p><i class="fas fa-info-circle"></i> 设置将自动保存到本地浏览器</p>
                    </div>
                    <div class="settings-buttons">
                        <button onclick="saveSettings()" class="btn-primary">
                        <i class="fas fa-save"></i> 保存设置
                    </button>
                        <button onclick="resetSettings()" class="btn-secondary">
                        <i class="fas fa-redo"></i> 恢复默认
                    </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 设置确认对话框 -->
    <div id="confirmDialog" class="modal">
        <div class="modal-content small">
            <h3><i class="fas fa-question-circle"></i> 确认操作</h3>
            <p id="confirmMessage">您确定要执行此操作吗？</p>
            <div class="modal-actions">
                <button onclick="confirmAction(true)" class="btn-primary">确定</button>
                <button onclick="confirmAction(false)" class="btn-secondary">取消</button>
            </div>
        </div>
    </div>

    <!-- 保存提示 -->
    <div id="saveIndicator" class="save-indicator">
        <i class="fas fa-check-circle"></i> <span id="saveMessage">设置已保存</span>
    </div>

    <!-- 动态背景元素 -->
    <div id="dynamicBackground" class="dynamic-background"></div>
    <div id="visualizationContainer" class="visualization-container"></div>
</body>

</html>